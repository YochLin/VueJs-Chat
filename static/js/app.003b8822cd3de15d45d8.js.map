{"version":3,"sources":["webpack:///./img/upload.png","webpack:///./src/App.vue?7506","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/ChatRoom.vue","webpack:///./src/components/ChatRoom.vue?cf4d","webpack:///./src/components/ChatRoom.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["module","exports","__webpack_require__","p","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","_m","_v","staticRenderFns","src_App","normalizeComponent","name","ssrContext","index_cjs_default","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","msgRef","database","ref","storageRef","storage","ChatRoom","data","userName","messages","userNameSet","upload","progress","methods","setName","saveName","document","querySelector","value","trim","getTime","now","Date","hours","getHours","minutes","getMinutes","sendMessage","e","message","shiftKey","length","preventDefault","push","type","timeStamp","sendImage","vm","file","target","files","fileName","Math","floor","progressBar","uploadTask","child","put","contentType","on","TaskEvent","STATE_CHANGED","snapshot","bytesTransferred","totalBytes","setAttribute","error","code","downloadURL","mounted","val","updated","chatBody","scrollTop","scrollHeight","components_ChatRoom","_vm","staticClass","_s","click","$event","directives","rawName","expression","keydown","_k","keyCode","key","_l","item","src","alt","_e","multiple","accept","change","draggable","src_components_ChatRoom","ChatRoom_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.003b8822cd3de15d45d8.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/upload.6319546.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./img/upload.png\n// module id = 0HD6\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_c('b',[_vm._v(\"上傳圖片與讀取未完成\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12160573\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12160573\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12160573\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <h1><b>上傳圖片與讀取未完成</b></h1> \n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n    <div class=\"container\">\r\n        <div class=\"name\">\r\n            <h3>Name : {{userName}}</h3>\r\n            <div class=\"reset\" @click=\"setName()\">Reset Name</div>\r\n        </div>\r\n        <!-- name -->\r\n        <div v-show=\"userNameSet || userName == ''\" class=\"modal\">\r\n            <div class=\"modal_container\">\r\n                <div class=\"modal_header\">\r\n                    <header>輸入名稱</header>\r\n                </div>\r\n                <div class=\"modal_body\">\r\n                    <input type=\"text\" id=\"js-userName\" class=\"userName\" @keydown.enter=\"saveName()\">\r\n                    <button @click=\"saveName()\" class=\"button\">設定</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- js-modal -->\r\n        <div class=\"chatRoom\">\r\n            <div class=\"chatHeader uk-flex uk-flex-left\">\r\n                <img src=\"https://lorempixel.com/50/50/\" class=\"room-image\" draggable=\"true\" alt=\"頭貼\">\r\n                <div class=\"room-title\">聊天室</div>\r\n            </div>\r\n            <!-- chatHeader -->\r\n            <div class=\"chatBody\">\r\n                <div v-for=\"item in messages\" :key=\"item\">\r\n                  <!-- 非使用者介面 -->\r\n                  <div v-if=\"item.userName != userName\">\r\n                    <div class=\"message-box\">\r\n                      <img src=\"https://lorempixel.com/40/40/\" alt=\"頭貼\">\r\n                      <div class=\"message-content\">\r\n                        <div class=\"message-name\">{{item.userName}}</div>\r\n                        <div class=\"message-text\" v-if=\"item.type == 'text'\">\r\n                          <div class=\"message-message\">{{item.message}}</div>\r\n                        </div>\r\n                        <div class=\"message-time\">{{item.timeStamp}}</div>\r\n                        <div class=\"message-image\" v-if=\"item.type == 'image'\"><img :src=\"item.message\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <!-- 使用者介面 -->\r\n                  <div v-if=\"item.userName == userName\">\r\n                    <div class=\"message-box message-user\">\r\n                      <div class=\"message-content\">\r\n                        <div class=\"message-time\">{{item.timeStamp}}</div>\r\n                        <div class=\"message-text\" v-if=\"item.type == 'text'\">\r\n                          <div class=\"message-message\">{{item.message}}</div>\r\n                        </div>\r\n                        <div class=\"message-image\" v-if=\"item.type == 'image'\"><img :src=\"item.message\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"loadDataArea\">\r\n                <div class=\"loadData\">\r\n                    <input type=\"file\" @change=\"sendImage($event)\" multiple accept=\"image/*\">\r\n                    <img src=\"../../img/upload.png\" alt=\"\">\r\n                </div>\r\n            </div>\r\n            <div class=\"ChatArea\">\r\n                <textarea class=\"ChatArea-message\" id=\"js-message\" @keydown.enter=\"sendMessage($event)\"></textarea>\r\n            </div>\r\n        </div>\r\n        <!-- chatRoom -->\r\n    </div>\r\n    <!-- container -->\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase'\r\n// Initialize Firebase\r\nvar config = {\r\n  apiKey: 'AIzaSyD4BeOXxM0npxuZZFLG26-UOKwp8ELHTQo',\r\n  authDomain: 'yoch-6b6be.firebaseapp.com',\r\n  databaseURL: 'https://yoch-6b6be.firebaseio.com',\r\n  projectId: 'yoch-6b6be',\r\n  storageBucket: 'yoch-6b6be.appspot.com',\r\n  messagingSenderId: '698152557825'\r\n}\r\nfirebase.initializeApp(config)\r\n\r\nconst msgRef = firebase.database().ref('/messages/')\r\nconst storageRef = firebase.storage().ref('/images/')\r\nexport default {\r\n  name: 'ChatRoom',\r\n  data () {\r\n    return {\r\n      userName: '',\r\n      messages: [],\r\n      userNameSet: false,\r\n      upload: false,\r\n      progress: ''\r\n    }\r\n  },\r\n  methods: {\r\n    /* 設定名稱 */\r\n    setName () {\r\n      const vm = this\r\n      vm.userNameSet = true\r\n    //   document.querySelector('#js-modal').style.display = 'block'\r\n    },\r\n    /* 儲存修改的名稱 */\r\n    saveName () {\r\n      const vm = this\r\n      const userName = document.querySelector('#js-userName').value\r\n      if (userName.trim() === '') { return }\r\n      vm.userName = userName\r\n      vm.userNameSet = false\r\n    //   document.querySelector('#js-modal').style.display = 'none'\r\n    },\r\n    getTime () {\r\n      const now = new Date()\r\n      const hours = now.getHours()\r\n      const minutes = now.getMinutes()\r\n      return `${(hours >= 12) ? '下午' : '上午'} ${hours}:${(minutes < 10) ? '0' + minutes : minutes}`\r\n    },\r\n    sendMessage (e) {\r\n      const vm = this\r\n      const userName = document.querySelector('#js-userName')\r\n      let message = document.querySelector('#js-message')\r\n      if (e.shiftKey) {\r\n        return false\r\n      }\r\n      if (message.value.length <= 1 && message.value.trim() === '') {\r\n        e.preventDefault()\r\n        return false\r\n      }\r\n      msgRef.push({\r\n        userName: userName.value,\r\n        type: 'text',\r\n        message: message.value,\r\n        timeStamp: vm.getTime()\r\n      })\r\n      message.value = ''\r\n      e.preventDefault()\r\n    },\r\n    sendImage (e) {\r\n      const vm = this\r\n      const userName = document.querySelector('#js-userName')\r\n      const file = e.target.files[0]\r\n      const fileName = Math.floor(Date.now() / 1000) + `_${file.name}`\r\n      const metadata = {\r\n        contentType: 'image/*'\r\n      }\r\n      let progressBar = document.querySelector('#js-progressBar')\r\n      const uploadTask = storageRef.child('images/' + fileName).put(file, metadata)\r\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n        function (snapshot) {\r\n          let progress = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100)\r\n          if (progress < 100) {\r\n            vm.upload = true\r\n            vm.progress = `${progress}%`\r\n            progressBar.setAttribute('style', `width:${progress}%`)\r\n          }\r\n        },\r\n        function (error) {\r\n          msgRef.child('bug/').push({\r\n            userName: userName.value,\r\n            type: 'image',\r\n            message: error.code,\r\n            timeStamp: vm.getTime()\r\n          })\r\n        },\r\n        function () {\r\n          var downloadURL = uploadTask.snapshot.downloadURL\r\n          msgRef.push({\r\n            userName: userName.value,\r\n            type: 'image',\r\n            message: downloadURL,\r\n            timeStamp: vm.getTime()\r\n          })\r\n          vm.upload = false\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    const vm = this\r\n    msgRef.on('value', function (snapshot) {\r\n      const val = snapshot.val()\r\n      vm.messages = val\r\n    })\r\n  },\r\n  updated () {\r\n    const chatBody = document.querySelector('.chatBody')\r\n    chatBody.scrollTop = chatBody.scrollHeight\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n*{\r\n  font-family: '微軟正黑體';\r\n  margin: auto;\r\n}\r\n/********************************************************顯示名稱**************************************************************/\r\n.name{\r\n    margin: 20px;\r\n    position: relative;\r\n}\r\n/********************************************************更改名稱部分***********************************************************/\r\n.userName{\r\n    margin: 0;\r\n    height: 30px;\r\n    font-size: 16px;\r\n    margin-bottom: 10px;\r\n    border: solid 1px #cbcbcb;\r\n    width: 70%;\r\n    text-align: center;\r\n    display: inline-block;\r\n}\r\n.reset{\r\n    margin-top: 10px;\r\n    padding: 5px 10px;\r\n    border-radius: 10px;\r\n    font-weight: 600;\r\n    color: #333333;\r\n    background-color: #CCCCCC;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n}\r\n.button{\r\n    font-size: 14px;\r\n    color: white;\r\n    background-color: #2B364B;\r\n    padding: 10px 20px;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n}\r\n.modal{\r\n    background-color: rgba(0,0,0,0.4);\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n    position: fixed;\r\n    z-index: 1;\r\n    left: 0%;\r\n    top: 0%;\r\n    animation-name: animatetop;\r\n    animation-duration: 0.8s;\r\n}\r\n.modal_container{\r\n    position: relative;\r\n    padding: 30px;\r\n    max-width: 300px;\r\n    outline: 0;\r\n}\r\n.modal_header{\r\n    color: white;\r\n    background-color: #2B364B;\r\n    padding: 10px;\r\n    text-align: center;\r\n    border-radius: 5px 5px 0px 0px;\r\n}\r\n.modal_body{\r\n    background-color: white;\r\n    padding: 20px 50px;\r\n    text-align: center;\r\n}\r\n@keyframes animatetop {\r\n    from {top:-300px; opacity:0}\r\n    to {top:20; opacity:0.8}\r\n}\r\n/**********************************************************************聊天室*****************************************************/\r\n.chatRoom{\r\n    border-radius: 5px;\r\n    max-width: 500px;\r\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\r\n}\r\n.chatHeader{\r\n    width: 100%;\r\n    height: 85px;\r\n    color: white;\r\n    background-color: #2B364B;\r\n    border-radius: 5px 5px 0px 0px;\r\n    position: relative;\r\n}\r\n.room-image{\r\n    margin: 15px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n}\r\n.room-title{\r\n    font-size: 16px;\r\n    font-weight: bolder;\r\n    margin: 30px 0px 0px 5px;\r\n}\r\n/*顯示聊天內容部分*/\r\n.chatBody{\r\n    padding: 10px 0px;\r\n    background-color: #fff;\r\n    height: 55vh;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n}\r\n.message-box{\r\n  padding: 10px;\r\n  position: relative;\r\n  text-align: left;\r\n}\r\n.message-box img{\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  border-radius: 50%;\r\n}\r\n.message-content{\r\n  display: inline-block;\r\n}\r\n.message-name{\r\n  text-align: left;\r\n}\r\n.message-text{\r\n  display: inline-block;\r\n  font-size: 12px;\r\n  color: #35393D;\r\n  letter-spacing: 0.6px;\r\n  background-color: #E3E8EB;\r\n  border-radius: 12px;\r\n  line-height: 1.5;\r\n  text-align: left;\r\n  word-break: break-all;\r\n  white-space: pre-line;\r\n}\r\n.message-message{\r\n  padding: 8px 10px 9px 11px;\r\n  max-width: 200px;\r\n  overflow: hidden;\r\n}\r\n.message-time{\r\n  display: inline-block;\r\n  font-size: 12px;\r\n}\r\n/*使用者顯示內容部分*/\r\n.message-user{\r\n  position: relative;\r\n  text-align: right;  \r\n}\r\n/*上傳檔案*/\r\n.loadDataArea{\r\n    border-top: solid 1px #E7E7E7;\r\n    border-bottom: solid 2px #E7E7E7;\r\n    background-color: #F6F6F6;\r\n    height: 35px;\r\n    padding: 0px 5px;\r\n    position: relative;\r\n}\r\n.loadData{\r\n    padding: 5px;\r\n    display: inline-block;\r\n    overflow: hidden;\r\n}\r\n.loadData:hover{\r\n    border: solid 1px #DCDCDC;\r\n}\r\n.loadData input{\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    opacity: 0;\r\n    cursor: pointer;\r\n    /* 讓input file可以支援pointer要加pl100% */\r\n    padding-left: 100%;\r\n}\r\n.loadData img{\r\n    width: 20px;\r\n    height: 20px;\r\n}\r\n/*聊天打字區域*/\r\n.ChatArea{\r\n    padding: 5px;\r\n    height: 8vh;\r\n}\r\n.ChatArea-message{\r\n    width: 100%;\r\n    border: none;\r\n    resize: none;\r\n    outline: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/ChatRoom.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_c('h3',[_vm._v(\"Name : \"+_vm._s(_vm.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"reset\",on:{\"click\":function($event){_vm.setName()}}},[_vm._v(\"Reset Name\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userNameSet || _vm.userName == ''),expression:\"userNameSet || userName == ''\"}],staticClass:\"modal\"},[_c('div',{staticClass:\"modal_container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"modal_body\"},[_c('input',{staticClass:\"userName\",attrs:{\"type\":\"text\",\"id\":\"js-userName\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.saveName()}}}),_vm._v(\" \"),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.saveName()}}},[_vm._v(\"設定\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"chatRoom\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"chatBody\"},_vm._l((_vm.messages),function(item){return _c('div',{key:item},[(item.userName != _vm.userName)?_c('div',[_c('div',{staticClass:\"message-box\"},[_c('img',{attrs:{\"src\":\"https://lorempixel.com/40/40/\",\"alt\":\"頭貼\"}}),_vm._v(\" \"),_c('div',{staticClass:\"message-content\"},[_c('div',{staticClass:\"message-name\"},[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),(item.type == 'text')?_c('div',{staticClass:\"message-text\"},[_c('div',{staticClass:\"message-message\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"message-time\"},[_vm._v(_vm._s(item.timeStamp))]),_vm._v(\" \"),(item.type == 'image')?_c('div',{staticClass:\"message-image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()])])]):_vm._e(),_vm._v(\" \"),(item.userName == _vm.userName)?_c('div',[_c('div',{staticClass:\"message-box message-user\"},[_c('div',{staticClass:\"message-content\"},[_c('div',{staticClass:\"message-time\"},[_vm._v(_vm._s(item.timeStamp))]),_vm._v(\" \"),(item.type == 'text')?_c('div',{staticClass:\"message-text\"},[_c('div',{staticClass:\"message-message\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),_vm._v(\" \"),(item.type == 'image')?_c('div',{staticClass:\"message-image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()])])]):_vm._e()])})),_vm._v(\" \"),_c('div',{staticClass:\"loadDataArea\"},[_c('div',{staticClass:\"loadData\"},[_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"\",\"accept\":\"image/*\"},on:{\"change\":function($event){_vm.sendImage($event)}}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"../../img/upload.png\"),\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"ChatArea\"},[_c('textarea',{staticClass:\"ChatArea-message\",attrs:{\"id\":\"js-message\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.sendMessage($event)}}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal_header\"},[_c('header',[_vm._v(\"輸入名稱\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chatHeader uk-flex uk-flex-left\"},[_c('img',{staticClass:\"room-image\",attrs:{\"src\":\"https://lorempixel.com/50/50/\",\"draggable\":\"true\",\"alt\":\"頭貼\"}}),_vm._v(\" \"),_c('div',{staticClass:\"room-title\"},[_vm._v(\"聊天室\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ec51c36\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatRoom.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ec51c36\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatRoom.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ec51c36\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatRoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5ec51c36\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatRoom.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport ChatRoom from '@/components/ChatRoom'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'ChatRoom',\n      component: ChatRoom\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}